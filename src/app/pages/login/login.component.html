<div class="login">
  <form [formGroup]="loginForm" (ngSubmit)="handleLogin()">
    <h1 class="title">Login</h1>
    <mat-form-field class="form-field" appearance="fill">
      <mat-label>Email</mat-label>
      <input type="email" matInput
        placeholder="Enter your email" formControlName="email"
        required />
      @if (loginForm.get('email')?.hasError('required')) {
      <mat-error>Email is required</mat-error>
      }@else if(loginForm.get('email')?.hasError('pattern')){
      <mat-error>Please enter valid email</mat-error>
      }
    </mat-form-field>

    <mat-form-field class="form-field">
      <mat-label>Password</mat-label>
      <input matInput [type]="hide ? 'password' : 'text'"
        formControlName="password" placeholder="Enter your password" required>
      @if (loginForm.get('password')?.hasError('required')) {
      <mat-error>Password is required</mat-error>
      }@else if(loginForm.get('password')?.hasError('minlength')){
      <mat-error>Password must be at least 6 characters long</mat-error>
      }@else if(loginForm.get('password')?.hasError('maxlength')){
      <mat-error>Password can not be more than 16 characters long</mat-error>
      }
      <button type="button" class="btn-password"
        matSuffix
        (click)="showHidePassword($event)">
        <mat-icon class="password-icon">{{hide ? 'visibility_off' :
          'visibility'}}</mat-icon>
      </button>
    </mat-form-field>

    <button type="submit" [disabled]="loginForm.invalid"
      class="btn-login" mat-flat-button
      color="primary">Login</button>
  </form>
</div>
